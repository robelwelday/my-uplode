{"version":3,"file":"static/js/576.3ee46402.chunk.js","mappings":"gLAKA,SAAeA,EAAAA,EAAAA,MAAK,WAClB,MAAM,KAAEC,IAASC,EAAAA,EAAAA,MACVC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,KAClCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,MAyBnC,OAdAK,EAAAA,EAAAA,WAAU,KACRH,GAAW,GACXE,EAAS,MACTE,EAAAA,EAAIC,IAAI,sBAADC,OAAuBZ,IAC3Ba,KAAMC,IACLX,EAAYW,EAAIC,QAEjBC,MAAOC,IACNC,QAAQX,MAAM,2BAA4BU,EAAIE,SAC9CX,EAAS,6BAEVY,QAAQ,IAAMd,GAAW,KAC3B,CAACN,KAGFqB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kFAAiFC,UAC9FC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gBAAeC,SAAA,EAC5BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,oEAAmEC,SAxB9E,CACLE,GAAI,eACJC,GAAI,iCACJC,GAAI,8CAqBoG3B,KAErGK,IAAWgB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,kDAAiDC,SAAC,eAC1EhB,IAASc,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uEAAsEC,SAAEhB,KAC7FF,IAAYE,IACZc,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yEAAwEC,SACpFrB,EAAS0B,IAAKC,IAAO,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OACpBT,EAAAA,EAAAA,MAAA,OAAuBF,UAAU,yJAAwJC,SAAA,CACtLM,EAAQK,QACPb,EAAAA,EAAAA,KAAA,OACEc,IAAG,wBAAAvB,OAA0BiB,EAAQK,OACrCE,KAAiB,QAAZN,EAAAD,EAAQQ,YAAI,IAAAP,OAAA,EAAZA,EAAe9B,MAAqB,QAAhB+B,EAAIF,EAAQQ,YAAI,IAAAN,OAAA,EAAZA,EAAcN,KAAM,gBACjDH,UAAU,+CACVjB,QAAQ,UAGZgB,EAAAA,EAAAA,KAAA,MAAIC,UAAU,qEAAoEC,UACnE,QAAZS,EAAAH,EAAQQ,YAAI,IAAAL,OAAA,EAAZA,EAAehC,MAAqB,QAAhBiC,EAAIJ,EAAQQ,YAAI,IAAAJ,OAAA,EAAZA,EAAcR,KAAM,qBAE/CJ,EAAAA,EAAAA,KAAA,KAAGC,UAAS,0BAAAV,OAA4BiB,EAAQS,UAAY,iBAAmB,gBAAiBf,SAC7FM,EAAQS,UAAY,YAAc,iBAErCjB,EAAAA,EAAAA,KAACkB,EAAAA,GAAI,CACHC,GAAE,aAAA5B,OAAeiB,EAAQY,KACzBnB,UAAU,2IAA0IC,SACrJ,eAlBOM,EAAQY,aA4BhC,E,iCCtEA,MAIA,E,OAJYC,EAAMC,OAAO,CACvBC,QAASC,CAAAA,SAAAA,aAAAA,WAAAA,IAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,mBAAqB,Q","sources":["pages/ProductsPage.js","api/api.js"],"sourcesContent":["import React, { useEffect, useState, memo } from \"react\";\nimport { useLanguage } from \"../context/LanguageContext\";\nimport api from \"../api/api\";\nimport { Link } from \"react-router-dom\";\n\nexport default memo(function ProductsPage() {\n  const { lang } = useLanguage(); // Remove switchLanguage function\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Local translations for the page title\n  const translations = {\n    title: {\n      en: \"Our Products\",\n      am: \"ምርቶችና\",\n      ti: \"ምህርትታትና\",\n    },\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    setError(null);\n    api.get(`/api/products?lang=${lang}`) // Pass the selected language to the API\n      .then((res) => {\n        setProducts(res.data);\n      })\n      .catch((err) => {\n        console.error(\"Error fetching products:\", err.message); // Log errors for debugging\n        setError(\"Failed to load products\");\n      })\n      .finally(() => setLoading(false));\n  }, [lang]); // Refetch products when the language changes\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50\">\n      <div className=\"flex-grow p-8\">\n        <h1 className=\"text-4xl font-bold text-center mb-12 text-blue-800 drop-shadow-lg\">{translations.title[lang]}</h1>\n\n        {loading && <p className=\"text-center text-lg text-gray-600 animate-pulse\">Loading...</p>}\n        {error && <p className=\"text-center text-red-500 text-lg bg-red-100 p-4 rounded-lg shadow-md\">{error}</p>}\n        {!loading && !error && (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto\">\n            {products.map((product) => (\n              <div key={product._id} className=\"bg-white rounded-2xl shadow-lg p-6 hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border border-gray-200 hover:border-blue-300\">\n                {product.image && (\n                  <img\n                    src={`http://localhost:5000${product.image}`}\n                    alt={product.name?.[lang] || product.name?.en || \"Product Image\"}\n                    className=\"w-1/2h-96 object-cover rounded mb-6shadow-md\"\n                    loading=\"lazy\" // Add lazy loading\n                  />\n                )}\n                <h4 className=\"text-xl font-bold mb-2 whitespace-normal break-words text-blue-700\">\n                  {product.name?.[lang] || product.name?.en || \"Unnamed Product\"}\n                </h4>\n                <p className={`mt-2 text-sm font-bold ${product.available ? \"text-green-500\" : \"text-red-500\"}`}>\n                  {product.available ? \"Available\" : \"Unavailable\"}\n                </p>\n                <Link\n                  to={`/products/${product._id}`}\n                  className=\"inline-block mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-300 shadow-md hover:shadow-lg\"\n                >\n                  See More\n                </Link>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n\n\n","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || '/api', // Prepend /api to all requests\n});\n\nexport default api;\n"],"names":["memo","lang","useLanguage","products","setProducts","useState","loading","setLoading","error","setError","useEffect","api","get","concat","then","res","data","catch","err","console","message","finally","_jsx","className","children","_jsxs","en","am","ti","map","product","_product$name","_product$name2","_product$name3","_product$name4","image","src","alt","name","available","Link","to","_id","axios","create","baseURL","process","REACT_APP_API_URL"],"sourceRoot":""}